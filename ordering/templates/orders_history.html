{% load i18n %}


<script>
$.getJSON("{% url ordering.passenger_controller.get_orders_data %}", function(data, textStatus) {
    init_grid(data);
});



function init_grid(data) {
    $("#orders_history_grid").jqGrid({
        data:               data,
        beforeSelectRow:    function () { return false }, // disable row selection
        datatype:           'local',
        height:             'auto',
        rowNum:             10,
        autowidth:          true,
        hoverrows:          false,
        scroll:             false,
        forceFit:           true,
        rowList:            [5,10,15],
        colNames:           [
            '{% trans 'Order' %}',
            '{% trans 'Date' %}',
            '{% trans 'From' %}',
            '{% trans 'To' %}',
            '{% trans 'Status' %}',
            '{% trans 'Station' %}'
        ],
        colModel:           [
            { name:'Order', index:'amount', width:60, sorttype:"int" },
            { name:'Date', index:'invdate', width:90, sorttype:"date", formatter:"date" },
            { name:'From', index:'text', width:200, sorttype:"text" },
            { name:'To', index:'text', width:200, sorttype:"text" },
            { name:'Status', index:'text', width:80, align:"left", sorttype:"text" },
            { name:'Station', index:'text', width:80, align:"right", sorttype:"text" }
        ],
        pager:              "#porders_history_grid",
        viewrecords:        true,
        sortname:           'Order',
        grouping:           true,
        groupingView :      {
            groupField : ['name']
        },
    });
}


</script>


<table id="orders_history_grid"></table>
<div id="porders_history_grid"></div>

